import{_ as u}from"./snow-icon-0ZfUMMj8.js";import{I as g}from"./InlineLoading-BhBgSRuk.js";import{u as h,s as x,a as y,o as B,J as I,r as S,C as k,d as l,e as s,j as p,h as F,m as D,D as o,A as N,z as j,y as A,l as i}from"./index-B7y5J1bI.js";const C=""+new URL("../images/copy-icon.svg",import.meta.url).href,T={class:"relative py-5 top-55 w-[90%] max-w-[650px] mx-auto sm:py-0 sm:top-90"},V={class:"bg-white shadow-md p-8 sm:p-10"},$={key:0,class:"w-full p-10 text-center"},L={key:1,class:"ani-fade"},R={class:"text-center text-sm sm:text-base"},U={class:"w-fit flex mt-10 max-w-full sm:max-w-[500px] mx-auto gap-x-10 gap-y-4 flex-col sm:flex-row"},z={class:"w-full sm:w-[calc((100%-40px)/2)]"},E={class:"flex mb-4 items-center"},M={class:"flex mb-4 items-center"},G={class:"flex items-center"},J={class:"w-[calc(100%-80px)] overflow-scroll"},O={class:"sm:w-[calc((100%-40px)/2)]"},P={class:"flex items-center"},q={key:0,class:"text-sm sm:text-base mt-1.5 border-b border-gray-200 pb-1 w-fit"},H={class:"flex items-center mt-4"},K={class:"flex gap-3"},Q={class:"font-bold"},ss={__name:"Step3",setup(W){const c=I(),{currency:v}=j(),d=h(),{isInlineLoading:r}=x(d),{pushMessage:n}=d,f=y(),{step:_,orderId:m}=x(f);B(()=>{_.value=3,localStorage.getItem("orderId")?(m.value=localStorage.getItem("orderId"),b()):c.push("/")});const t=S({user:{},id:""});async function b(){r.value=!0;let a=`https://vue3-course-api.hexschool.io/api/flurrypop-api/order/${m.value}`;try{const e=await k.get(a);e&&(t.value=e.data.order)}catch{c.push("/")}finally{r.value=!1}}async function w(){try{await navigator.clipboard.writeText(t.value.id),n(!0,"已複製訂單編號！")}catch(a){n(!1,"複製失敗："+a)}}return(a,e)=>(i(),l("div",T,[s("div",V,[p(r)?(i(),l("div",$,[F(g)])):(i(),l("div",L,[e[6]||(e[6]=s("div",{class:"flex items-center gap-2 justify-center mb-5"},[s("img",{src:u,alt:"snow-icon",class:"h-4 sm:h-5"}),s("span",{class:"serif text-lg sm:text-2xl font-bold text-[#3F88B4]"},"訂單完成"),s("img",{src:u,alt:"snow-icon",class:"h-4 sm:h-5 scale-x-[-1]"})],-1)),s("div",{onClick:w,class:"cursor-pointer text-[#7DB14A] font-bold flex flex-col sm:flex-row gap-x-2 justify-center items-center hover:opacity-80"},[e[0]||(e[0]=s("div",{class:"flex items-center gap-2 justify-center text-sm sm:text-base"},[s("img",{src:C,alt:"copy-icon",class:"h-3 sm:h-4"}),D("訂單編號 ")],-1)),s("div",R,o(t.value.id),1)]),s("div",U,[s("div",z,[s("div",E,[e[1]||(e[1]=s("div",{class:"text-sm sm:text-base font-bold text-[#3F88B4] w-20"},"姓名",-1)),s("div",null,o(t.value.user.name),1)]),s("div",M,[e[2]||(e[2]=s("div",{class:"text-sm sm:text-base font-bold text-[#3F88B4] w-20"},"電話",-1)),s("div",null,o(t.value.user.tel),1)]),s("div",G,[e[3]||(e[3]=s("div",{class:"text-sm sm:text-base font-bold text-[#3F88B4] w-20"},"Email",-1)),s("div",J,o(t.value.user.email),1)])]),s("div",O,[s("div",P,[e[4]||(e[4]=s("div",{class:"text-sm sm:text-base font-bold text-[#3F88B4] w-20"},"寄送方式",-1)),s("div",null,o(t.value.user.address=="實體店取貨"?"實體店取貨":"宅配"),1)]),t.value.user.address!="實體店取貨"?(i(),l("div",q,o(t.value.user.address),1)):N("",!0),s("div",H,[e[5]||(e[5]=s("div",{class:"text-sm sm:text-base font-bold text-[#3F88B4] w-20"},"付款狀態",-1)),s("div",K,[s("div",Q,"NT$ "+o(p(v)(t.value.total)),1),s("div",{class:A([t.value.is_paid?"text-[#7DB14A]":"text-[#D8473A]","font-bold"])},o(t.value.is_paid?"已付款":"未付款"),3)])])])])]))])]))}};export{ss as default};
