import{u as x,s as h,M as g,l as w,o as b,I as v,a as y,b as s,p as u,v as c,e as _,w as k,r as L,N as M,h as V,i as j,A as B}from"./index-B34NEXyu.js";import{_ as F}from"./logo-black-DRLc1wSh.js";const N={class:"bg-[url('images/bg-2.jpg')] bg-cover bg-center h-screen w-full flex justify-center items-center"},R={class:"w-[90%] max-w-lg bg-white rounded-lg p-10"},S={action:"",class:"max-w-[350px] mx-auto mt-10 sm:mt-15"},C={class:"relative"},I={class:"relative mt-5"},P={class:"mt-10 sm:mt-15 flex justify-between items-end"},D={__name:"Login",setup(T){const l=v(),n=x(),{isFullLoading:p}=h(n),{pushMessage:i}=n,d=g(),{checkLogin:m}=d,t=w({username:"FlurryPop@gmail.com",password:"FlurryPop"});async function f(){p.value=!0;let a="https://vue3-course-api.hexschool.io/admin/signin";try{const e=await B.post(a,t.value);if(e.data.success){const{token:r,expired:o}=e.data;document.cookie=`token=${r};expires=${new Date(o)}`,l.push("/dashboard/product")}else i(e.data.success,e.data.message)}catch(e){i(!1,e.message)}finally{p.value=!1}}return b(async()=>{await m()&&l.push("/dashboard/product")}),(a,e)=>{const r=L("RouterLink");return V(),y("div",N,[s("div",R,[e[5]||(e[5]=s("div",{class:"flex items-center justify-center gap-2 sm:gap-3"},[s("img",{src:F,alt:"",class:"h-8 sm:h-11"}),s("div",{class:"text-lg sm:text-xl font-bold"},"後臺系統")],-1)),s("form",S,[s("div",C,[u(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.username=o),id:"username",autocomplete:"username",class:"peer w-full border-b pt-7 pb-3 placeholder-transparent focus:outline-none",placeholder:"帳號"},null,512),[[c,t.value.username]]),e[2]||(e[2]=s("label",{for:"username",class:"absolute left-0 top-0 text-sm text-gray-500 transition-all peer-placeholder-shown:top-7 peer-placeholder-shown:text-base peer-placeholder-shown:text-neutral-700 peer-focus:top-0 peer-focus:text-sm peer-focus:text-gray-500"}," 帳號 ",-1))]),s("div",I,[u(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),id:"password",autocomplete:"current-password",class:"peer w-full border-b pt-7 pb-3 placeholder-transparent focus:outline-none",placeholder:"密碼"},null,512),[[c,t.value.password]]),e[3]||(e[3]=s("label",{for:"password",class:"absolute left-0 top-0 text-sm text-gray-500 transition-all peer-placeholder-shown:top-7 peer-placeholder-shown:text-base peer-placeholder-shown:text-neutral-700 peer-focus:top-0 peer-focus:text-sm peer-focus:text-gray-500"}," 密碼 ",-1))]),s("div",P,[_(r,{class:"text-sm sm:text-base underline text-[#3F88B4] hover:opacity-80",to:"/"},{default:k(()=>e[4]||(e[4]=[j("回到前台")])),_:1,__:[4]}),s("button",{onClick:M(f,["prevent"]),class:"btn-white font-semibold"}," 登入 ")])])])])}}};export{D as default};
