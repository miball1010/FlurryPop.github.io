import{u as m,s as f,r as x,d as h,e as s,k as i,v as u,h as w,w as b,i as g,O as v,J as _,l as y,m as k,C as V}from"./index-BIox9yog.js";import{_ as j}from"./logo-black-DRLc1wSh.js";const B={class:"bg-[url('images/bg-2.jpg')] bg-cover bg-center h-screen w-full flex justify-center items-center"},C={class:"w-[90%] max-w-lg bg-white rounded-lg p-10"},L={action:"",class:"max-w-[350px] mx-auto mt-10 sm:mt-15"},R={class:"relative"},F={class:"relative mt-5"},M={class:"mt-10 sm:mt-15 flex justify-between items-end"},D={__name:"Login",setup(N){const d=_(),r=m(),{isFullLoading:a}=f(r),{pushMessage:n}=r,t=x({username:"",password:""});async function c(){a.value=!0;let p="https://vue3-course-api.hexschool.io/admin/signin";try{const e=await V.post(p,t.value);if(e.data.success){const{token:l,expired:o}=e.data;document.cookie=`token=${l};expires=${new Date(o)}`,d.push("/dashboard/product")}else a.value=!1,n(e.data.success,e.data.message)}catch(e){a.value=!1,n(!1,e.message)}}return(p,e)=>{const l=g("RouterLink");return y(),h("div",B,[s("div",C,[e[5]||(e[5]=s("div",{class:"flex items-center justify-center gap-2 sm:gap-3"},[s("img",{src:j,alt:"Flurry Pop logo",class:"h-8 sm:h-11"}),s("div",{class:"text-lg sm:text-xl font-bold"},"後臺系統")],-1)),s("form",L,[s("div",R,[i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.username=o),id:"username",autocomplete:"username",class:"peer w-full border-b pt-7 pb-3 placeholder-transparent focus:outline-none",placeholder:"帳號"},null,512),[[u,t.value.username]]),e[2]||(e[2]=s("label",{for:"username",class:"absolute left-0 top-0 text-sm text-gray-500 transition-all peer-placeholder-shown:top-7 peer-placeholder-shown:text-base peer-placeholder-shown:text-neutral-700 peer-focus:top-0 peer-focus:text-sm peer-focus:text-gray-500"}," 帳號 ",-1))]),s("div",F,[i(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),id:"password",autocomplete:"current-password",class:"peer w-full border-b pt-7 pb-3 placeholder-transparent focus:outline-none",placeholder:"密碼"},null,512),[[u,t.value.password]]),e[3]||(e[3]=s("label",{for:"password",class:"absolute left-0 top-0 text-sm text-gray-500 transition-all peer-placeholder-shown:top-7 peer-placeholder-shown:text-base peer-placeholder-shown:text-neutral-700 peer-focus:top-0 peer-focus:text-sm peer-focus:text-gray-500"}," 密碼 ",-1))]),s("div",M,[w(l,{class:"text-sm sm:text-base underline text-[#3F88B4] hover:opacity-80",to:"/"},{default:b(()=>e[4]||(e[4]=[k("回到前台")])),_:1,__:[4]}),s("button",{onClick:v(c,["prevent"]),class:"btn-white font-semibold"},"登入")])])])])}}};export{D as default};
